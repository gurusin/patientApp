<div class="container">
  <h3>Treatments </h3>
  <!--Treatment History Table -->
  <button type="button" class="btn-outline-primary" (click)="showNew()">New ..</button>
  <br/>
  <table class="table table-bordered table-striped">
      <tr>
        <td>Id</td>
        <td>Description</td>
        <td>Date</td>
        <td>Amount</td>
      </tr>
    <tr *ngFor="let obj of treatments">
      <td><button (click)="editTrt(obj)" class="btn-link">{{obj.id}}</button></td>
      <td>{{obj.remarks}}</td>
      <td>{{obj.timeOfAction}}</td>
      <td>{{obj.rate}}</td>
      <td><button type="button"  class='btn btn-danger'(click)="delete(obj.id)">Delete</button></td>
    </tr>
  </table>

  <!-- The popup to create a new one -->
  <div id="modal" class="modal" #editComp>
     <div id="modal-content" class="modal-content">
         <div class="row">
           <div class="col-sm-2">
             <label>Date & Time</label>
           </div>
           <div class="col-sm-8">
             <input type="datetime-local" [(ngModel)]="currObj.timeOfAction">
           </div>
         </div>

       <div class="row">
         <div class="col-sm-2">
           <label>Type</label>
         </div>
         <div class="col-sm-8">
           <select [(ngModel)]="currObj.treatmentItem.id" (change)="changeItem()">
           <option *ngFor="let obj of trtTypes"
                   [value]="obj.id"
                   [attr.selected]="currObj.trtItemId==obj.id?true:null">
           {{obj.name}}</option>
           </select>
         </div>
       </div>

       <div class="row">
         <div class="col-sm-2">
           <label>Amount</label>
         </div>
         <div class="col-sm-8">
           <input type="number" [(ngModel)]="currObj.rate" size="50"/>
         </div>
       </div>

       <div class="row">
         <div class="col-sm-2">
           <label>Remarks</label>
         </div>
         <div class="col-sm-8">
          <textarea [(ngModel)]="currObj.remarks" rows="10" cols="75"></textarea>
         </div>
       </div>

       <div class="row">
         <div class="col-sm-5"></div>
         <div class="col-sm-3">
           <button type="button" class="btn btn-primary" (click)="save()"> Save</button>
           <button type="button" class="btn btn-primary" (click)="cancel()"> Cancel</button>
         </div>
       </div>
     </div>
  </div>
</div>
